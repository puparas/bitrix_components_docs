# Разделы с top'ом элементов

Документация для разработчиков

[Документация для разработчиков](https://dev.1c-bitrix.ru/api_help/)
[Документация по D7](https://dev.1c-bitrix.ru/api_d7/)
[Документация по REST](https://dev.1c-bitrix.ru/rest_help/)
[Пользовательская документация](https://dev.1c-bitrix.ru/user_help/)

Темная тема

[Основные сведения](/user_help/index.php)
[Реализация и системные требования](/user_help/reqintro.php)

[Справочная система и документация](/user_help/help/index.php)

[Контент](/user_help/content/index.php)

[Сайты 24](/user_help/sites24/index.php)

[Маркетинг](/user_help/marketing/index.php)

[Магазин](/user_help/store/index.php)

[Клиенты](/user_help/clients/index.php)

[Сервисы](/user_help/service/index.php)

[Веб-аналитика](/user_help/statistic/index.php)

[Marketplace](/user_help/marketplace/index.php)

[Настройки](/user_help/settings/index.php)

[Компоненты](/user_help/components/index.php)

[CRM (КП)](/user_help/components/crm/index.php)

[Корпоративный портал (КП)](/user_help/components/intranet/index.php)

[Сайты 24](/user_help/components/landing/index.php)

[Контент](/user_help/components/content/index.php)

[Агрегатор библиотек документов (КП)](/user_help/components/content/webdav/index.php)

[Задачи 2.0 (КП)](/user_help/components/content/tasks/index.php)

[Статьи и новости](/user_help/components/content/articles_and_news/index.php)

[Фотогалерея](/user_help/components/content/photogallery/index.php)

[Фотогалерея 2.0](/user_help/components/content/photogallery2/index.php)

[Каталог](/user_help/components/content/catalog/index.php)

[Структура разделов](/user_help/components/content/catalog/catalog_section_list.php)
[Элементы раздела](/user_help/components/content/catalog/catalog_section.php)
[Каталог (комплексный компонент)](/user_help/components/content/catalog/catalog.php)
[Поиск по каталогу](/user_help/components/content/catalog/catalog_search.php)
[Бренды](/user_help/components/content/catalog/catalog_brandblock.php)
[Элемент каталога детально](/user_help/components/content/catalog/catalog_element.php)
[Список сравниваемых элементов каталога](/user_help/components/content/catalog/catalog_compare_list.php)
[Таблица сравнения](/user_help/components/content/catalog/catalog_compare_result.php)
[Умный фильтр](/user_help/components/content/catalog/smart_filter.php)
[Фильтр по элементам](/user_help/components/content/catalog/catalog_filter.php)
[Список информационных блоков заданного типа](/user_help/components/content/catalog/catalog_main.php)
[top элементов каталога](/user_help/components/content/catalog/catalog_top.php)
[top элементов каталога по параметру (магазин) - не поддерживается с версии 12.5](/user_help/components/content/catalog/store_catalog_top.php)
[Конструктор наборов](/user_help/components/content/catalog/catalog_set_constructor.php)
[Разделы с top'ом элементов](/user_help/components/content/catalog/catalog_sections_top.php)
[Список связанных элементов](/user_help/components/content/catalog/catalog_link_list.php)

[Универсальные списки](/user_help/components/content/lists/index.php)

[Google Maps](/user_help/components/content/google_maps/index.php)

[Highload инфоблоки](/user_help/components/content/highload/index.php)

[RSS](/user_help/components/content/rss/index.php)

[Wiki](/user_help/components/content/wiki/index.php)

[Валюты](/user_help/components/content/currency/index.php)

[Добавление элементов](/user_help/components/content/adding/index.php)

[Инфоблоки](/user_help/components/content/infoblocks/index.php)

[Календарь событий](/user_help/components/content/calendar/index.php)

[Карта сайта](/user_help/components/content/sitemap/index.php)

[Медиа](/user_help/components/content/media/index.php)

[Яндекс.Карты](/user_help/components/content/yandex_map/index.php)

[Обмен с 1С](/user_help/components/content/1c_exchange/index.php)

[Социальные сервисы](/user_help/components/content/social_services/index.php)

[Сервисы](/user_help/components/services/index.php)

[Общение](/user_help/components/obschenie/index.php)

[Магазин](/user_help/components/magazin/index.php)

[Служебные](/user_help/components/sluzhebnie/index.php)

[Описание компонентов решений](/user_help/description_decisions/index.php)

[Дополнительно](/user_help/additional/index.php)

[Компоненты](/user_help/components/index.php)

[Контент](/user_help/components/content/index.php)

[Каталог](/user_help/components/content/catalog/index.php)

Разделы с top'ом элементов

# Разделы с top'ом элементов

### Описание **catalog.sections.top**

Компонент выводит top элементов сгруппированных по разделам; элементы выводятся в таблице. Компонент стандартный и входит в дистрибутив модуля.

В визуальном редакторе компонент расположен по пути *Контент > Каталог > Разделы с top'ом элементов*.

Компонент относится к модулю [Информационные блоки](/user_help/content/iblock/index.php).

### Параметры

|  |  |  |
| --- | --- | --- |
| **Поле** | **Параметр** | **Описание** |
| **Основные параметры** | | |
| Тип инфоблока | **IBLOCK\_TYPE** | Указывается один из созданных в системе типов информационных блоков. |
| Инфоблок | **IBLOCK\_ID** | Для выбранного типа инфоблоков указывается идентификатор информационного блока, из которого будут выводиться список элементов. |
| **Источник данных** | | |
| Поля разделов | **SECTION\_FIELDS** | Указываются поля раздела, которые будут отображены на странице структуры разделов. Заполняется из публичной части редактора, удерживая клавишу Ctrl либо в коде, указывая массив:  ```  Array("ID","CODE",""), ```  При выборе пункта **(не выбрано)->** и без указания вычисления полей в строках ниже (т.е. если задан пустой массив) ничего отображаться не будет. |
| Свойства раздела | **SECTION\_USER\_FIELDS** | Указываются свойства раздела, которые будут отображены на странице. Заполняется из публичной части редактора, удерживая клавишу Ctrl либо в коде, указывая массив. При выборе пункта **(не выбрано)->** и без указания вычисления полей в строках ниже, свойства не будут выведены. |
| По какому полю сортируем разделы | **SECTION\_SORT\_FIELD** | Указывается поле, по которому будет происходить сортировка разделов:  * **SORT** – по индексу сортировки; * **TIMESTAMP\_X** – по дате изменения; * **NAME** – по названию; * **ID** – по идентификатору; * **DEPTH\_LEVEL** – по уровню вложенности папки. |
| Порядок сортировки разделов | **SECTION\_SORT\_ORDER** | Задается порядок сортировки разделов:  * **ASC** – **По возрастанию**; * **DESC** – **По убыванию**. |
| По какому полю сортируем элементы | **ELEMENT\_SORT\_FIELD** | Указывается поле, по которому будет происходить сортировка элементов:  * **shows** – по количеству просмотров в среднем; * **sort** – по индексу сортировки; * **timestamp\_x** – по дате изменения; * **name** – по названию; * **id** – по идентификатору; * **active\_from** – по дате активности с; * **active\_to** – по дате активности по; * **CATALOG\_AVAILABLE** – доступность к покупке; * **SCALED\_PRICE\_[ID]** – по типу цен (вместо [ID] - идентификатор типа цены) |
| Порядок сортировки элементов | **ELEMENT\_SORT\_ORDER** | Задается порядок сортировки элементов:  * **asc** – **По возрастанию**; * **desc** – **По убыванию**. |
| Поле для второй сортировки элементов | **ELEMENT\_SORT\_FIELD2** | Указывается поле, по которому будет происходить вторая сортировка элементов:  * **shows** – по количеству просмотров в среднем; * **sort** – по индексу сортировки; * **timestamp\_x** – по дате изменения; * **name** – по названию; * **id** – по идентификатору; * **active\_from** – по дате активности с; * **active\_to** – по дате активности по; * **CATALOG\_AVAILABLE** – доступность к покупке; * **SCALED\_PRICE\_[ID]** – по типу цен (вместо [ID] - идентификатор типа цены) |
| Порядок второй сортировки элементов | **ELEMENT\_SORT\_ORDER2** | Задается порядок второй сортировки элементов:  * **asc** – **По возрастанию**; * **desc** – **По убыванию**. |
| Имя массива со значениями фильтра для фильтрации элементов | **FILTER\_NAME** | Задается имя переменной, в которую передается массив параметров из фильтра. Если имя массива не указано, то будет использоваться значение по умолчанию. |
| Не отображать товары, которых нет на складах | **HIDE\_NOT\_AVAILABLE** | [Y|N] При отмеченной опции будут скрыты товары, для которых общее количество на складах меньше либо равно нулю, включен количественный учет и не разрешена покупка при отсутствии товара. |
| **Внешний вид** | | |
| Максимальное количество выводимых разделов | **SECTION\_COUNT** | Указывается максимальное количество разделов, отображаемых на странице. |
| Максимальное количество элементов, выводимых в каждом разделе | **ELEMENT\_COUNT** | Указывается максимальное количество элементов выводимых в каждом разделе. Все элементы раздела будут выведены с помощью постраничной навигации. |
| Количество элементов, выводимых в одной строке таблицы | **LINE\_ELEMENT\_COUNT** | Указывается количество элементов выводимых в одной строке таблицы. |
| Свойства | **PROPERTY\_CODE** | Указываются свойства инфоблока, которые будут отображены при показе элементов в таблице. При выборе пункта *(не выбрано)->* и без указания кодов свойств в строках ниже, свойства выведены не будут. |
| **Шаблоны ссылок** | | |
| URL, ведущий на страницу с содержимым раздела | **SECTION\_URL** | Указывается путь к странице с детальным содержимым раздела. |
| URL, ведущий на страницу с содержимым элемента раздела | **DETAIL\_URL** | Указывается путь к странице с детальным описанием элемента раздела. |
| URL, ведущий на страницу с корзиной покупателя | **BASKET\_URL** | Указывается путь к странице с корзиной покупателя. |
| Название переменной, в которой передается действие | **ACTION\_VARIABLE** | Указывается имя переменной, в которой передается действие: **ADD\_TO\_COMPARE\_LIST**, **ADD2BASKET** и т.д. Значение поля по умолчанию **ACTION**. Значение параметра должно быть уникальным среди всех используемых компонентов на одной странице. |
| Название переменной, в которой передается код товара для покупки | **PRODUCT\_ID\_VARIABLE** | Задается имя переменной, в которой будет передаваться идентификатор товара для покупки. |
| Название переменной, в которой передается количество товара | **PRODUCT\_QUANTITY\_VARIABLE** | Задается имя переменной, в которой будет передаваться количество товара. |
| Название переменной, в которой передаются характеристики товара | **PRODUCT\_PROPS\_VARIABLE** | Задается имя переменной, в которой будет передаваться характеристики товара. |
| Название переменной, в которой передается код группы | **SECTION\_ID\_VARIABLE** | Задается имя переменной, в которой будет передаваться идентификатор группы. |
| **Настройки кеширования** | | |
| Тип кеширования | **CACHE\_TYPE** | Тип кеширования:  * **A** - Авто + Управляемое: автоматически обновляет кеш компонентов в течение заданного времени или при изменении данных; * **Y** - Кешировать: для кеширования необходимо определить время кеширования; * **N** - Не кешировать: кеширования нет в любом случае. |
| Время кеширования (сек.) | **CACHE\_TIME** | Время кеширования, указанное в секундах. |
| Кешировать при установленном фильтре | **CACHE\_FILTER** | [Y|N] При отмеченной опции каждый результат, полученный из фильтра, будет кешироваться. |
| Учитывать права доступа | **CACHE\_GROUPS** | [Y|N] При отмеченной опции будут учитываться права доступа при кешировании. |
| **Дополнительные настройки** | | |
| Выводить кнопку сравнения | **DISPLAY\_COMPARE** | [Y|N] При отмеченной опции будет выведена кнопка **Сравнить**, с помощью которой элемент добавляется в список сравнения. |
| Использовать основной раздел для показа элемента | **USE\_MAIN\_ELEMENT\_SECTION** | [Y|N] Если опция отмечена, то при переходе на детальную страницу элемента в адресную строку браузера будет подставляться тот путь, который формируется при просмотре элемента через основной раздел, даже если элемент открыт через другой родительский его раздел. Если опция не отмечена, про ссылка на детальную страницу элемента формируется с учетом того раздела, через который элемент открыт на просмотр. Рассмотрим пример, когда опция в настройках отмечена. Допустим, что элемент с символьным кодом **marketing** привязан к двум разделам с кодами **bisness** и **science** соответственно, причем раздел с кодом **bisness** является основным. В результате, если пользователь пришел в раздел **science** и кликнул на элемент **marketing**, то в строке браузера вместо **http://mysite.ru/catalog/science/marketing/** будет отображено **http://mysite.ru/catalog/bisness/marketing/**. |
| **Цены** | | |
| Тип цены | **PRICE\_CODE** | Указывается тип цены для выводимых элементов. Если не задан ни один из типов, то цена товара и кнопки **Купить** и **В корзину** показаны не будут. |
| Использовать вывод цен с диапазонами | **USE\_PRICE\_COUNT** | [Y/N] При отмеченной опции будут отображаться цены всех типов на товары. |
| Выводить цены для количества | **SHOW\_PRICE\_COUNT** | Параметр определяет количество единиц товара, для которых выводить стоимость. |
| Включать НДС в цену | **PRICE\_VAT\_INCLUDE** | [Y|N] При отмеченной опции цены будут показаны с учетом НДС. |
| Характеристики товара | **PRODUCT\_PROPERTIES** | Указываются характеристики товара. |
| Разрешить указание количества товара | **USE\_PRODUCT\_QUANTITY** | [Y|N] При отмеченной опции будет разрешен вывод количества товара. |
| Показывать цены в одной валюте | **CONVERT\_CURRENCY** | При установке флажка цены будут выводиться в одной валюте, даже если в каталоге они будут заданы в разных валютах. При выборе этой опции кеш компонента будет автоматически сбрасываться при изменении курсов валют тех товаров, что показываются компонентом. К примеру, если выбрана конвертация в рубли, а цены в инфоблоке сохранены в евро, то кеш сбросится при изменении курса евро или рубля. Изменения остальных валют на кеш не окажут влияния. При выборе данной опции становится доступным дополнительное поле.     |  |  |  | | --- | --- | --- | | Валюта, в которую будут сконвертированы цены | **CURRENCY\_ID** | Выбор валюты в которой будут отображаться цены. | |
| Разрешить указание дробного количества товара | **QUANTITY\_FLOAT** | [Y|N] При отмеченной опции в корзину можно будет добавлять дробное количество товара. Опция доступна, если отмечен параметр **Разрешить указание количества товара**, до версии модуля **14.0.0**. |

### Пример вызова

```

<?$APPLICATION->IncludeComponent("bitrix:catalog.sections.top","",Array(
		"IBLOCK_TYPE" => "books",
		"IBLOCK_ID" => "6",
		"SECTION_FIELDS" => Array(""),
		"SECTION_USER_FIELDS" => Array(""),
		"SECTION_SORT_FIELD" => "sort",
		"SECTION_SORT_ORDER" => "asc",
		"ELEMENT_SORT_FIELD" => "sort",
		"ELEMENT_SORT_ORDER" => "asc",
		"ELEMENT_SORT_FIELD" => "active_from",
		"ELEMENT_SORT_ORDER" => "asc",
		"FILTER_NAME" => "arrFilter",
		"SECTION_URL" => "",
		"DETAIL_URL" => "",
		"BASKET_URL" => "/personal/basket.php",
		"ACTION_VARIABLE" => "action",
		"PRODUCT_ID_VARIABLE" => "id",
	    "PRODUCT_QUANTITY_VARIABLE" =>  "quantity",
	    "PRODUCT_PROPS_VARIABLE" =>  "prop",
		"SECTION_ID_VARIABLE" => "SECTION_ID",
		"DISPLAY_COMPARE" => "Y",
		"USE_MAIN_ELEMENT_SECTION" => "Y",
		"SECTION_COUNT" => "20",
		"ELEMENT_COUNT" => "9",
		"LINE_ELEMENT_COUNT" => "3",
		"PROPERTY_CODE" => Array("YEAR", "ISBN", "PAGES", "CML2_ARTICLE"),
		"PRICE_CODE" => Array("BASE"),
		"USE_PRICE_COUNT" => "Y",
		"SHOW_PRICE_COUNT" => "1",
		"PRICE_VAT_INCLUDE" => "Y",
		"PRODUCT_PROPERTIES" => array(),
	    "USE_PRODUCT_QUANTITY" => "Y",
		"CACHE_TYPE" => "A",
		"CACHE_TIME" => "3600",
		"CACHE_FILTER" => "Y",
		"CACHE_GROUPS" => "Y",
		"HIDE_NOT_AVAILABLE" => "N",
		"QUANTITY_FLOAT" => "N",
		"CONVERT_CURRENCY" => "Y",
		"CURRENCY_ID" => "RUB",
	)
);?>

```

Новинки документации в соцсетях:

#### Пользовательские комментарииПомните, что Пользовательские комментарии, несмотря на модерацию, не являются официальной документацией. Ответственность за их использование несет сам пользователь. Также Пользовательские комментарии не являются местом для обсуждения функционала. По подобным вопросам обращайтесь на [форумы](http://dev.1c-bitrix.ru/community/forums/group1/).

© «Битрикс», 2001-2025, «1С-Битрикс», 2025

Наверх