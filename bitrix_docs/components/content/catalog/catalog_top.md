|  |  |  |  |
| --- |

| --- | --- |
| **Поле** |

| **Описание** | **Примечание** |
| **Основные параметры** |

| | |
| Тип инфоблока |

| Указывается один из созданных в системе типов информационных блоков. |  |
| Инфоблок |

| Для выбранного типа инфоблоков указывается идентификатор информационного блока, из которого будет выводиться top элементов сгруппированных по разделам. |  |
| **Источник данных** |

| | |
| Имя массива со значениями фильтра для фильтрации элементов |

| Задается имя переменной, в которую передается массив параметров из фильтра. Если имя массива не указано, то будет использоваться значение по умолчанию. |  |
| Фильтр товаров |

| В данном поле настраиваются условия отбора товаров для показа. Выбор каждого условия осуществляется из выпадающего списка, доступного по ссылке **Добавить условие**. Для выбранного поля/свойства товара задается соответствие некоторому значению. Допускается создание нескольких условий и использование между ними как логики "И", так и логики "ИЛИ". |  |
| Недоступные товары |

| Указывается способ отборажения недоступных для покупки товаров:  * **не отображать**; * **отображать в конце**; * **отображать в общем списке**.   **Примечание:** недоступные для покупки товары - это товары, для которых количество меньше либо равно нулю, включен количественный учет и не разрешена покупка при отсутствии товара. |  |
| Недоступные торговые предложения |

| Указывается способ отборажения недоступных для покупки торговых предложений:  * **не отображать**; * **отображать только с возможностью подписки**; * **отображать все**. |  |
| **Настройки сортировки** |

| | |
| По какому полю сортируем элементы |

| Указывается поле, по которому будет происходить сортировка элементов:  * **shows** – по количеству просмотров в среднем; * **sort** – по индексу сортировки; * **timestamp\_x** – по дате изменения; * **name** – по названию; * **id** – по идентификатору; * **active\_from** – по дате активности с; * **active\_to** – по дате активности по; * **SCALED\_PRICE\_[ID]** – по типу цен (вместо [ID] - идентификатор типа цены) |  |
| Порядок сортировки элементов |

| Задается порядок сортировки элементов:  * **asc** – **По возрастанию**; * **desc** – **По убыванию**. |  |
| Поле для второй сортировки элементов |

| Указывается поле, по которому будет происходить вторая сортировка элементов:  * **shows** – по количеству просмотров в среднем; * **sort** – по индексу сортировки; * **timestamp\_x** – по дате изменения; * **name** – по названию; * **id** – по идентификатору; * **active\_from** – по дате активности с; * **active\_to** – по дате активности по; * **SCALED\_PRICE\_[ID]** – по типу цен (вместо [ID] - идентификатор типа цены) |  |
| Порядок второй сортировки элементов |

| Задается порядок второй сортировки элементов:  * **asc** – **По возрастанию**; * **desc** – **По убыванию**. |  |
| По какому полю сортируем предложения товара |

| Указывается поле, по которому сортируется весь список предложений товара.     См. [примечание](#note_sort) в конце страницы. | Данные параметры появляются при настройке компонента на инфоблок с поддержкой SKU. |
| Порядок сортировки предложений товара |

| Выбирается как сортировать предложения товара: по возрастанию, или по убыванию. |
| Поле для второй сортировки предложений товара |

| Указывается поле, по которому выполняется вторая сортировка списка предложений товара.    См. [примечание](#note_sort) в конце страницы. |
| Порядок второй сортировки предложений товара |

| Выбирается направление второй сортировки предложений товара: по возрастанию, или по убыванию. |
| **Внешний вид** |

| | |
| Свойства |

| Указываются свойства инфоблока, которые будут отображены при показе элементов в таблице. При выборе пункта *(не выбрано)->* и без указания кодов свойств в строках ниже, свойства выведены не будут.   **Внимание!** При включенной опции Использовать параметры свойств в компонентах и формах  эта настройка может быть скрыта. В этом случае показ свойств настраивается только в форме редактирования инфоблока   . Подробнее о настройке свойств инфоблока в [уроке](https://dev.1c-bitrix.ru/learning/course/index.php?bitrix_include_areas=Y&COURSE_ID=42&LESSON_ID=1986). |  |
| Свойства товаров, отображаемые на мобильных устройствах |

| Выбираются свойства инфоблока (перечень формируется из выбранных в параметре выше свойств), которые будут отображены в списке товаров при просмотре с мобильных устройств. |  |
| Поля предложений |

| Выбираются поля предложений. С помощью клавиши Ctrl можно выбрать несколько значений. Данный параметр появляется при настройке компонента на инфоблок с поддержкой SKU. |  |
| Свойства предложений |

| Указываются свойства предложений. Можно добавлять свои. Данный параметр появляется при настройке компонента на инфоблок с поддержкой SKU.   **Внимание!** При включенной опции Использовать параметры свойств в компонентах и формах  эта настройка может быть скрыта. В этом случае показ свойств настраивается только в форме редактирования инфоблока   . Подробнее о настройке свойств инфоблока в [уроке](https://dev.1c-bitrix.ru/learning/course/index.php?bitrix_include_areas=Y&COURSE_ID=42&LESSON_ID=1986). |  |
| Максимальное количество предложений для показа |

| Указывается максимальное для вывода на страницу число предложений (0 - все). | Параметр доступен, если опция **Включить режим совместимости** включена. |
| Показ элементов |

| Определяется способ отображения элементов: баннер (BANNER), слайдер (SLIDER) или список (SECTION). |  |
| Цветовая тема |

| Задается цветовая схема для отображения top'а элементов. По умолчанию используется синяя схема (blue). |  |
| Схема отображения |

| Задается режим отображения товаров: простой (N) или расширенный (Y). Параметр доступен для инфоблока с торговыми предложениями. |  |
| Дополнительная картинка основного товара |

| Задается свойство, в котором хранится дополнительная картинка для основного товара. |  |
| Свойство меток товара |

| Указываются свойство, в котором хранится метка товара (например, *новинка*). |  |
| Свойства меток товара, отображаемые на мобильных устройствах |

| Выбираются свойства меток (перечень формируется из выбранных в параметре выше свойств), которые будут отображены в списке товаров при просмотре с мобильных устройств. |  |
| Дополнительные картинки предложения |

| Задается свойство, в котором хранится дополнительная картинка для торгового предложения. Параметр доступен для инфоблока с торговыми предложениями.. | Данные настройки доступны, если в параметре **Схема отображения** выбрано значение **расширенный**. |
| Свойства для отбора предложений |

| Указываются свойства, по значениям которых будут группироваться торговые предложения. Параметр доступен для инфоблока с торговыми предложениями.   **Внимание!** При включенной опции Использовать параметры свойств в компонентах и формах  эта настройка может быть скрыта. В этом случае показ свойств настраивается только в форме редактирования инфоблока   . Подробнее о настройке свойств инфоблока в [уроке](https://dev.1c-bitrix.ru/learning/course/index.php?bitrix_include_areas=Y&COURSE_ID=42&LESSON_ID=1986). |
| Расположение меток товара |

| Выберите подходящее место для меток на карточке товара. |  |
| Показывать процент скидки |

| [Y|N] При отмеченной опции будет отображаться процентное значение скидки, если она задана. |  |
| Показывать старую цену |

| [Y|N] Если задана скидка на товар, то при отмеченной опции будет отображаться старая цена. |  |
| Показывать остаток товара |

| Укажите способ отображения остатка товара:  * **не показывать**; * **с отображением реального остатка** - в этом случае необходимо настроить параметр **Текст для остатка**; * **с подменой остатка текстом** - в этом случае необходимо настроить параметры **Текст для остатка**, **Значение, от которого происходит подмена**, **Текст для значения больше** и **Текст для значения меньше**. |  |
| Текст для остатка |

| Задается текст для отображения информации о наличии товара. | Доступность данных параметров компонента определяется настройками параметра **Показывать остаток товара**. |
| Значение, от которого происходит подмена |

| Указывается значение, меньше (больше) которого о количестве товара на складе будет отображаться выражение, что товара мало (много). |
| Текст для значения больше |

| Задается текст, который будет отображаться при наличии товара в количестве большем, чем значение в параметре **Значение, от которого происходит подмена**. |
| Текст для значения меньше |

| Задается текст, который будет отображаться при наличии товара в количестве меньшем, чем значение в параметре **Значение, от которого происходит подмена**.. |
| Показывать кнопку продолжения покупок во всплывающих окнах |

| [Y|N] При отмеченной опции будет отображаться кнопка **Продолжить покупки** во всплывающем окне, появляющемся после добавления товара в корзину. |  |
| Разрешить оповещения для отсутствующих товаров |

| [Y|N] При отмеченной опции клиент будет оповещаться, что интересующий его товар стал доступным для покупки. | Данные параметры доступны, если в параметре **Показ элементов** выбрано значение **список**. |
| Расположение процента скидки |

| Выберите подходящее место для отображения процентной скидки на карточке товара. |
| Вариант отображения товаров |

| В правой части поля выберите подходящий вам вариант отображения одной строки товаров на странице и перетащите его в левую часть. Аналогичным образом настройте остальные строки для формирования таблицы товаров. |
| Количество товаров на странице |

| Отображается информация по количеству товаров на странице в соответствии с выбранным вариантом отображения товаров. |
| Выделять товары в списке |

| Выберите способ выделения товаров в списке:  * **по выбранному шаблону (строго)** - товар будет выделятся строго по настроенному варианту отображения товаров; * **по свойству, подгонять по шаблону** (в этом случае возможно изменение сортировки элементов) - в списке будет выделяться тот товар, для которого заполнено указанное в параметре **Выделять по выбранному свойству** свойство.   **Примечание:** выделение товаров осуществляется в том случае, если для показа списка товаров выбран хотя бы один вариант вида: |
| Выделять по выбранному свойству |

| Указывается то свойство товара, при наличии которого товар будет выделен в списке просмотренных (если позволяет вариант отображения товаров, см. поле **Вариант отображения товаров**). Параметр доступен, если в параметре **Выделять товары в списке** указано значение **по свойству (подгонять по шаблону)**. |
| Порядок отображения блоков товара |

| Перетаскивая блоки, определите необходимый вам порядок следования блоков товара. |
| Показывать слайдер для товаров |

| [Y|N] При отмеченной опции для товаров будет использоваться слайдер для показа изображений; станет доступным дополнительное окно     |  |  |  | | --- | --- | --- | | Интервал смены слайдов, мс | **SLIDER\_INTERVAL** | Указывается интервал смены слайдов в миллисекундах. Параметр настраивается, если отмечена опция **Показывать слайдер для товаров**. | | Показывать полосу прогресса | **SLIDER\_PROGRESS** | [Y|N] При отмеченной опции будет отображаться полоса прогресса до начала показа следующего слайда. |  . | Данные параметры доступны, если в параметре **Показ элементов** выбрано значение **баннер** или **слайдер**. |
| Время показа одного слайда, сек (0 - выключить автоматическую смену слайдов) |

| Указывается время показа одного слайда (в сек.). Используется для автоматической прокрутки слайдов. |
| Показывать навигацию по слайдам |

| [Y|N] При отмеченной опции будет доступна навигация по слайдам. |
| Текст кнопки "Купить" |

| Задается текст, который должен быть отображен на кнопке "Купить". |  |
| Текст кнопки "Добавить в корзину" |

| Задается текст, который должен быть отображен на кнопке добавления в корзину. |  |
| Текст кнопки "Сравнить" |

| Задается текст, который должен быть отображен на кнопке "Сравнить". |  |
| Текст кнопки "Подробнее" |

| Задается текст, который должен быть отображен на кнопке "Подробнее". |  |
| Сообщение об отсутствии товара |

| Указывается текст, который будет отображаться при отсутствии товара и невозможности его купить. |  |
| Сообщение о недоступности услуги |

| Указывается текст, который будет отображаться при недоступности услуги. |  |
| **Шаблоны ссылок** |

| | |
| URL, ведущий на страницу с содержимым раздела |

| Указывается путь к странице с детальным содержимым раздела. |  |
| URL, ведущий на страницу с содержимым элемента раздела |

| Указывается путь к странице с детальным описанием элемента раздела. |  |
| Название переменной, в которой передается количество товара |

| Задается имя переменной, в которой будет передаваться количество товара. |  |
| **Управление адресами страниц** |

| | |
| Включить поддержку ЧПУ |

| [Y|N] При отмеченной опции включается поддержка ЧПУ и становятся доступными поля настройки ЧПУ.     |  |  |  |  | | --- | --- | --- | --- | | Правило для обработки | **SEF\_RULE** | Указывается правило обработки вызова страницы. Для создания правила следует использовать шаблоны, доступные по кнопке **[...]**. |  | |  |
| **Настройки кеширования** |

| | |
| Тип кеширования |

| Тип кеширования:  * **A** - Авто + Управляемое: автоматически обновляет кеш компонентов в течение заданного времени или при изменении данных; * **Y** - Кешировать: для кеширования необходимо определить время кеширования; * **N** - Не кешировать: кеширования нет в любом случае. |  |
| Время кеширования (сек.) |

| Время кеширования, указанное в секундах. |  |
| Учитывать права доступа |

| [Y|N] При отмеченной опции будут учитываться права доступа при кешировании. |  |
| **Дополнительные настройки** |

| | |
| Кешировать при установленном фильтре |

| [Y|N] При отмеченной опции каждый результат, полученный из фильтра, будет кешироваться. |  |
| Включить режим совместимости |

| [Y|N] При отмеченной опции будет включен режим совместимости. Опцию необходимо отмечать при наличии старого кастомизированного шаблона компонента версии ниже 16.6.2 модуля **Информационные блоки**. |  |
| **Настройки действий** |

| | |
| Название переменной, в которой передается действие |

| Задается имя переменной, в которой передается действие: **ADD\_TO\_COMPARE\_LIST**, **ADD2BASKET** и т.д. Значение поля по умолчанию **action**. Значение параметра должно быть уникальным среди всех используемых компонентов на одной странице. |  |
| Название переменной, в которой передается код товара для покупки |

| Задается имя переменной, в которой будет передаваться идентификатор товара. |  |
| **Цены** |

| | |
| Тип цены |

| Указывается тип цены для выводимых элементов. Если не задан ни один из типов, то цена товара и кнопки **Купить** и **В корзину** показаны не будут. |  |
| Использовать вывод цен с диапазонами |

| [Y/N] При отмеченной опции будут отображаться цены всех типов на товары. |  |
| Выводить цены для количества |

| Параметр определяет количество единиц товара, для которых выводить стоимость. |  |
| Включать НДС в цену |

| [Y|N] При отмеченной опции цены будут показаны с учетом НДС. |  |
| Показывать цены в одной валюте |

| При установке флажка цены будут выводиться в одной валюте, даже если в каталоге они будут заданы в разных валютах; станет доступным дополнительное окно     |  |  |  |  | | --- | --- | --- | --- | | Валюта, в которую будут сконвертированы цены | **CURRENCY\_ID** | Выбор валюты в которой будут отображаться цены. |  |  . При выборе этой опции кеш компонента будет автоматически сбрасываться при изменении курсов валют тех товаров, что показываются компонентом. К примеру, если выбрана конвертация в рубли, а цены в инфоблоке сохранены в евро, то кеш сбросится при изменении курса евро или рубля. Изменения остальных валют на кеш не окажут влияния. |  |
| **Добавление в корзину** |

| | |
| URL, ведущий на страницу с корзиной покупателя |

| Указывается путь к странице с корзиной покупателя. |  |
| Разрешить указание количества товара |

| [Y|N] При отмеченной опции будет разрешен вывод количества товара. |  |
| Добавлять в корзину свойства товаров и предложений |

| [Y|N] При отмеченной опции становятся доступными настройки выбора свойств товаров и предложений     |  |  |  |  | | --- | --- | --- | --- | | Название переменной, в которой передаются характеристики товара | **PRODUCT\_PROPS\_VARIABLE** | Задается имя переменной, в которой будет передаваться характеристики товара. |  | | Разрешить добавлять в корзину товары, у которых заполнены не все характеристики | **PARTIAL\_PRODUCT\_PROPERTIES** | [Y|N] При отмеченной опции в корзину будут добавляться и те товары, у которых заполнены не все характеристики. Если же опция не отмечена, то товар будет добавлен в корзину только при условии, что все характеристики, добавляемые в корзину, заполнены. На торговые предложения этот параметр не влияет. |  | | Характеристики товара | **PRODUCT\_PROPERTIES** | Указываются характеристики товара. |  | | Свойства предложений, добавляемые в корзину | **OFFERS\_CART\_PROPERTIES** | Из списка выбираются свойства, которые можно добавить в корзину. Для выбора нескольких свойств нужно использоать клавишу Ctrl. Данный параметр появляется при настройке компонента на инфоблок с поддержкой SKU. |  |  для передачи их в корзину и заказ. |  |
| Показывать кнопку добавления в корзину или покупки |

| Выберите какая кнопка должна отображаться: кнопка покупки (BUY) или кнопка добавления в корзину (ADD). |  |
| **Сравнение товаров** |

| | |
| Разрешить сравнение товаров |

| [Y|N] Если опция отмечена, то будет отображаться кнопка для сравнения товаров, станет активным дополнительное окно     |  |  |  |  | | --- | --- | --- | --- | | Путь к странице сравнения | **COMPARE\_PATH** | Путь к странице с компонентом сравнения товаров. Если значение параметра пустое, будет использована текущая страница. |  |  . |  |
| Уникальное имя для списка сравнения |

| Задается имя переменной, в которой передается список сравниваемых элементов. По умолчанию **CATALOG\_COMPARE\_LIST**. |  |
| **Настройки аналитики** |

| | |
| Отправлять данные электронной торговли в Google и Яндекс |

| [Y|N] Включение опции. После включения станут доступны ещё два поля     |  |  |  |  | | --- | --- | --- | --- | | Имя контейнера данных | **DATA\_LAYER\_NAME** | Указываются свойства инфоблока, которые будут отображены в списке просмотренных товаров. При выборе пункта *(не выбрано)->* и без указания кодов свойств в строках ниже, свойства выведены не будут. |  | | Свойство брендов | **BRAND\_PROPERTY** | Указывается свойство инфоблока, откуда система должна брать название бренда товара (производитель, марка, модель и т.п.). |  |  . Требуется дополнительная настройка в [Google Analytics Enhanced Ecommerce](https://support.google.com/analytics/answer/1009612?hl=ru) и/или [Яндекс.Метрике](https://yandex.ru/support/metrika/data/e-commerce.xml https://metrika.yandex.ru/promo). **Примечание**: Настройка Яндекс метрикой не сложна, и данные в ней отображаются довольно быстро (полчаса-час). У Google используется Google Tag Manager с плагином электронной коммерции, его нужно настроить и добавить на страницу в шаблоне. После настройки на "той" стороне, нужно настроить компоненты для работы с электронной коммерцией и включить это поле настройки. |  |
| **Служебные параметры** (**не** отображаются в настройках компонента) |

| | |
| Кастомная сортировка по произвольному числу параметров |

```
<?$APPLICATION->IncludeComponent(

	"bitrix:catalog.top",

	"",

	Array(

		"ACTION_VARIABLE" => "action",

		"ADD_PICT_PROP" => "MORE_PHOTO",

		"ADD_PROPERTIES_TO_BASKET" => "Y",

		"ADD_TO_BASKET_ACTION" => "ADD",

		"BASKET_URL" => "/personal/basket.php",

		"BRAND_PROPERTY" => "BRAND_REF",

		"CACHE_FILTER" => "N",

		"CACHE_GROUPS" => "Y",

		"CACHE_TIME" => "36000000",

		"CACHE_TYPE" => "A",

		"COMPARE_NAME" => "CATALOG_COMPARE_LIST",

		"COMPARE_PATH" => "",

		"COMPATIBLE_MODE" => "N",

		"CONVERT_CURRENCY" => "Y",

		"CURRENCY_ID" => "RUB",

		"CUSTOM_FILTER" => "{\"CLASS_ID\":\"CondGroup\",\"DATA\":{\"All\":\"OR\",\"True\":\"True\"},\"CHILDREN\":{\"4\":{\"CLASS_ID\":\"CondIBSection\",\"DATA\":{\"logic\":\"Equal\",\"value\":1}},\"6\":{\"CLASS_ID\":\"CondIBProp:2:8\",\"DATA\":{\"logic\":\"Equal\",\"value\":3}}}}",

		"DATA_LAYER_NAME" => "dataLayer",

		"DETAIL_URL" => "",

		"DISCOUNT_PERCENT_POSITION" => "bottom-right",

		"DISPLAY_COMPARE" => "N",

		"ELEMENT_COUNT" => "9",

		"ELEMENT_SORT_FIELD" => "sort",

		"ELEMENT_SORT_FIELD2" => "id",

		"ELEMENT_SORT_ORDER" => "asc",

		"ELEMENT_SORT_ORDER2" => "desc",

		"ENLARGE_PRODUCT" => "STRICT",

		"FILTER_NAME" => "",

		"HIDE_NOT_AVAILABLE" => "L",

		"HIDE_NOT_AVAILABLE_OFFERS" => "L",

		"IBLOCK_ID" => "2",

		"IBLOCK_TYPE" => "catalog",

		"LABEL_PROP" => array("SALELEADER"),

		"LABEL_PROP_MOBILE" => array(),

		"LABEL_PROP_POSITION" => "top-left",

		"LINE_ELEMENT_COUNT" => "",

		"MESS_BTN_ADD_TO_BASKET" => "В корзину",

		"MESS_BTN_BUY" => "Купить",

		"MESS_BTN_COMPARE" => "Сравнить",

		"MESS_BTN_DETAIL" => "Подробнее",

		"MESS_NOT_AVAILABLE" => "Нет в наличии",

		"MESS_NOT_AVAILABLE_SERVICE" => "Недоступно",

		"MESS_RELATIVE_QUANTITY_FEW" => "мало",

		"MESS_RELATIVE_QUANTITY_MANY" => "много",

		"MESS_SHOW_MAX_QUANTITY" => "Наличие",

		"OFFERS_CART_PROPERTIES" => array("COLOR_REF","SIZES_SHOES","SIZES_CLOTHES"),

		"OFFERS_FIELD_CODE" => array("",""),

		"OFFERS_LIMIT" => "5",

		"OFFERS_PROPERTY_CODE" => array("SIZES_SHOES","SIZES_CLOTHES","MORE_PHOTO",""),

		"OFFERS_SORT_FIELD" => "sort",

		"OFFERS_SORT_FIELD2" => "id",

		"OFFERS_SORT_ORDER" => "asc",

		"OFFERS_SORT_ORDER2" => "desc",

		"OFFER_ADD_PICT_PROP" => "MORE_PHOTO",

		"OFFER_TREE_PROPS" => array("COLOR_REF","SIZES_SHOES"),

		"PARTIAL_PRODUCT_PROPERTIES" => "N",

		"PRICE_CODE" => array("BASE"),

		"PRICE_VAT_INCLUDE" => "Y",

		"PRODUCT_BLOCKS_ORDER" => "price,props,sku,quantityLimit,quantity,buttons,compare",

		"PRODUCT_DISPLAY_MODE" => "Y",

		"PRODUCT_ID_VARIABLE" => "id",

		"PRODUCT_PROPERTIES" => array("NEWPRODUCT"),

		"PRODUCT_PROPS_VARIABLE" => "prop",

		"PRODUCT_QUANTITY_VARIABLE" => "",

		"PRODUCT_ROW_VARIANTS" => "[{'VARIANT':'2','BIG_DATA':false},{'VARIANT':'2','BIG_DATA':false},{'VARIANT':'2','BIG_DATA':false}]",

		"PRODUCT_SUBSCRIPTION" => "Y",

		"PROPERTY_CODE" => array("MANUFACTURER","MATERIAL",""),

		"PROPERTY_CODE_MOBILE" => array(),

		"RELATIVE_QUANTITY_FACTOR" => "5",

		"ROTATE_TIMER" => "30",

		"SECTION_URL" => "",

		"SEF_MODE" => "N",

		"SEF_RULE" => "",

		"SHOW_CLOSE_POPUP" => "N",

		"SHOW_DISCOUNT_PERCENT" => "Y",

		"SHOW_MAX_QUANTITY" => "M",

		"SHOW_OLD_PRICE" => "Y",

		"SHOW_PAGINATION" => "Y",

		"SHOW_PRICE_COUNT" => "1",

		"SHOW_SLIDER" => "Y",

		"SLIDER_INTERVAL" => "3000",

		"SLIDER_PROGRESS" => "N",

		"TEMPLATE_THEME" => "blue",

		"USE_ENHANCED_ECOMMERCE" => "Y",

		"USE_PRICE_COUNT" => "N",

		"USE_PRODUCT_QUANTITY" => "Y",

		"VIEW_MODE" => "SECTION"

	)

);?>


```