# Подарки к выбранному товару

Документация для разработчиков

[Документация для разработчиков](https://dev.1c-bitrix.ru/api_help/)
[Документация по D7](https://dev.1c-bitrix.ru/api_d7/)
[Документация по REST](https://dev.1c-bitrix.ru/rest_help/)
[Пользовательская документация](https://dev.1c-bitrix.ru/user_help/)

Темная тема

[Основные сведения](/user_help/index.php)
[Реализация и системные требования](/user_help/reqintro.php)

[Справочная система и документация](/user_help/help/index.php)

[Контент](/user_help/content/index.php)

[Сайты 24](/user_help/sites24/index.php)

[Маркетинг](/user_help/marketing/index.php)

[Магазин](/user_help/store/index.php)

[Клиенты](/user_help/clients/index.php)

[Сервисы](/user_help/service/index.php)

[Веб-аналитика](/user_help/statistic/index.php)

[Marketplace](/user_help/marketplace/index.php)

[Настройки](/user_help/settings/index.php)

[Компоненты](/user_help/components/index.php)

[CRM (КП)](/user_help/components/crm/index.php)

[Корпоративный портал (КП)](/user_help/components/intranet/index.php)

[Сайты 24](/user_help/components/landing/index.php)

[Контент](/user_help/components/content/index.php)

[Сервисы](/user_help/components/services/index.php)

[Общение](/user_help/components/obschenie/index.php)

[Магазин](/user_help/components/magazin/index.php)

[Аффилиаты](/user_help/components/magazin/affiliates/index.php)

[Корзина](/user_help/components/magazin/basket/index.php)

[Процедура заказа](/user_help/components/magazin/zakaz/index.php)

[Рекомендуемые товары](/user_help/components/magazin/recommended/index.php)

[Список профилей текущего пользователя](/user_help/components/magazin/profiles/index.php)

[Экспорт заказов](/user_help/components/magazin/export_zakaz/index.php)

[Информация о товарах](/user_help/components/magazin/information_tovars/index.php)

[Выбор товара для получения подарка](/user_help/components/magazin/information_tovars/sale_gift_main_products.php)
[Подарки к товарам в корзине](/user_help/components/magazin/information_tovars/sale_products_gift_basket.php)
[Подарки к товарам в корзине (устаревший)](/user_help/components/magazin/information_tovars/sale_gift_basket.php)
[Подарки к товарам конкретного раздела](/user_help/components/magazin/information_tovars/sale_products_gift_section.php)
[Подарки к выбранному товару](/user_help/components/magazin/information_tovars/sale_products_gift.php)
[Просмотренные товары](/user_help/components/magazin/information_tovars/catalog_products_viewed.php)
[Рекомендуемые товары](/user_help/components/magazin/information_tovars/catalog_recommended_products.php)
[Генерация купона на товар для почты](/user_help/components/magazin/information_tovars/sale_discount_coupon_mail.php)
[Персональные рекомендации (почта)](/user_help/components/magazin/information_tovars/sale_bigdata_personal_mail.php)
[Самые продаваемые товары](/user_help/components/magazin/information_tovars/sale_bestsellers.php)
[Сопутствующие заказу товары](/user_help/components/magazin/information_tovars/sale_bigdata_followup_mail.php)
[С этим товаром покупают](/user_help/components/magazin/information_tovars/sale_recommended_products.php)
[Подписка на товары](/user_help/components/magazin/information_tovars/catalog_product_subscribe.php)
[Список товаров на которые вы подписаны](/user_help/components/magazin/information_tovars/catalog_product_subscribe_list.php)
[Подарки к товарам конкретного раздела (устаревший)](/user_help/components/magazin/information_tovars/sale_gift_section.php)

[Склады](/user_help/components/magazin/sklads/index.php)

[Служебные](/user_help/components/sluzhebnie/index.php)

[Описание компонентов решений](/user_help/description_decisions/index.php)

[Дополнительно](/user_help/additional/index.php)

[Компоненты](/user_help/components/index.php)

[Магазин](/user_help/components/magazin/index.php)

[Информация о товарах](/user_help/components/magazin/information_tovars/index.php)

Подарки к выбранному товару

**Недоступно в редакциях:**Стандарт, Старт

# Подарки к выбранному товару

### Описание **sale.products.gift**

Компонент служит для отображения подарков к конкретному товару. Компонент стандартный и входит в дистрибутив модуля.

В визуальном редакторе компонент расположен по пути *Магазин > Информация о товарах > Подарки к выбранному товару*.

С версии модуля sale 17.0.9 заменяет компонент **sale.gift.product**.

Компонент наследуются от класса компонентов списка `\Bitrix\Iblock\Component\ElementList`.

Компонент относится к модулю [Интернет-магазин](/user_help/store/sale/index.php).

### Параметры

|  |  |  |
| --- | --- | --- |
| **Поле** | **Параметр** | **Описание** |
| **Основные параметры** | | |
 Тип инфоблока | **IBLOCK\_TYPE** | Указывается один из созданных в системе типов информационных блоков. || Инфоблок | **IBLOCK\_ID** | Для выбранного типа инфоблоков указывается инфоблок, из которого будет выводиться список товаров. || **Источник данных** | | |
| Показывать товары из раздела | **SHOW\_FROM\_SECTION** | [Y|N] При отмеченной опции просмотренные товары будут показываться из того раздела, который указан в нижеследующих настройках: **ID раздела**, **Код раздела**, **ID элемента, для которого будет выбран раздел** и **Символьный код элемента, для которого будет выбран раздел**. Если опция не отмечена, то данные настройки скрыты. |
| ID раздела | **SECTION\_ID** | Указывается идентификатор раздела, товары из которого должны быть показаны. Можно не указывать, если задан **Код раздела**. |
| Код раздела | **SECTION\_CODE** | Указывается код раздела, товары из которого должны быть показаны. Можно не указывать, если задан **ID раздела**. |
| ID элемента, для которого будет выбран раздел | **SECTION\_ELEMENT\_ID** | Указывается идентификатор элемента, по которому будет выбран раздел для показа товаров. Можно не указывать, если задан **Символьный код элемента, для которого будет выбран раздел**. |
| Символьный код элемента, для которого будет выбран раздел | **SECTION\_ELEMENT\_CODE** | Указывается код элемента, по которому будет выбран раздел для показа товаров. Можно не указывать, если задан **ID элемента, для которого будет выбран раздел**. |
| Максимальная отображаемая глубина разделов | **DEPTH** | Параметр определяет максимальную глубину вложенности разделов, из которых будут показаны товары. |
| Недоступные товары | **HIDE\_NOT\_AVAILABLE** | Как отображать недоступные товары:  * **Отображать в общем списке** * **Отображать в конце** * **Не отображать**  Недоступны товары, для которых количество меньше либо равно нулю, включен количественный учет и не разрешена покупка при отсутствии товара.  Товар с торговыми предложениями считается доступным, если хоть одно предложение доступно.  Доступность товара не означает, что его можно купить. Для покупки должны быть цены тех типов, по которым клиент может покупать. |
| Недоступные торговые предложения | **HIDE\_NOT\_AVAILABLE\_OFFERS** | Как отображать недоступные торговые предложения  * **Отображать только с возможностью подписки** * **Отображать все** * **Не отображать**  Недоступны предложения, для которых количество меньше либо равно нулю, включен количественный учет и не разрешена покупка при отсутствии товара.  Доступность предложения не означает, что его можно купить. Для покупки должны быть цены тех типов, по которым клиент может покупать. |
| **Настройки сортировки** | | |
| По какому полю сортируем элементы | **ELEMENT\_SORT\_FIELD** | Указывается поле, по которому будет происходить сортировка элементов текущего раздела. |
| Порядок сортировки элементов | **ELEMENT\_SORT\_ORDER** | В каком направлении будут отсортированы элементы, по возрастанию или по убыванию. |
| Поле для второй сортировки элементов | **ELEMENT\_SORT\_FIELD2** | Указывается поле, по которому будет происходить вторичная сортировка элементов текущего раздела. |
| Порядок второй сортировки элементов | **ELEMENT\_SORT\_ORDER2** | В каком направлении будут отсортированы элементы, по возрастанию или по убыванию во вторичной сортировке. |
| **Внешний вид** | | |
| Количество элементов на странице: | **PAGE\_ELEMENT\_COUNT** | Значение поля определяет количество элементов на одной странице. Остальные элементы будут выведены с помощью постраничной навигации. Если заполнены поля секции **Основные параметры**, то выбор значений производится визуально с помощью drag&drop |
| Свойства | **PROPERTY\_CODE** | Выбор свойств инфоблока для отображения при показе элементов. При выборе пункта (**не выбрано**) и без указания кодов свойств в строках ниже, свойства выведены не будут.    **Обратите внимание, что** данный параметр недоступен при отмеченной опции Использовать параметры свойств в компонентах и формах  . Подробнее читайте в [уроке](https://dev.1c-bitrix.ru/learning/course/index.php?COURSE_ID=42&LESSON_ID=1986). |
| Свойства товаров, отображаемые на мобильных устройствах | **PROPERTY\_CODE\_MOBILE** | Выбор свойств инфоблока для отображения при показе элементов в мобильной версии сайта. |
| Цветовая тема | **TEMPLATE\_THEME** | Задается цветовая схема для отображения списка элементов. По умолчанию используется синяя схема (blue). |
| Выделять товары в списке | **ENLARGE\_PRODUCT** | По какому признаку выделяются товары: строго по шаблону, либо по признаку. Если выбрано **По признаку**, то необходимо указать признак в поле **Выделять по выбранному свойству**. Оба поля отображаются только если заданы параметры в секции **Основные параметры** |
| Порядок отображения блоков товара | **PRODUCT\_BLOCKS\_ORDER** | Визуальный выбор порядка отображения  блоков товара.   Для некоторых блоков порядок может не соблюдаться в связи с особенностями шаблона. Блок товара может не отображаться если его функционал выключен или недоступен. Поле отображается только если заданы параметры в секции **Основные параметры**. |
| Показывать слайдер для товаров | **SHOW\_SLIDER** | [Y|N] Товар будет отображён в слайдере. Поле отображается только если заданы параметры в секции **Основные параметры**. |
| Показывать полосу прогресса | **SLIDER\_PROGRESS** | Скорость смены слайдов. Поле отображается только если заданы параметры в секции **Основные параметры**. |
| Дополнительная картинка основного товара | **ADD\_PICT\_PROP** | Свойство, откуда будут отображаться дополнительные картинки товара. Поле отображается только если заданы параметры в секции **Основные параметры**. |
| Свойства меток товара | **LABEL\_PROP** | Выбрать метки, которые будут отображаться в товаре. После выбора укажите место расположения метки  на фотографии. Поле отображается только если заданы параметры в секции **Основные параметры**. |
| Разрешить оповещения для отсутствующих товаров | **PRODUCT\_SUBSCRIPTION** | [Y|N] При отмеченной опции клиент будет оповещаться, что интересующий его товар стал доступным для покупки. |
| Показывать процент скидки | **SHOW\_DISCOUNT\_PERCENT** | [Y|N] При отмеченной опции будет отображаться процентное значение скидки, если она задана. Можно указать место расположения     |  |  |  | | --- | --- | --- | | Расположение процента скидки | **DISCOUNT\_PERCENT\_POSITION** | Задается место расположения стикера на изображении: по центру, справа, слева или внизу. |  скидки. |
| Показывать старую цену | **SHOW\_OLD\_PRICE** | Опция отобразит старую, доскидочную цену. |
| Показывать остаток товара | **SHOW\_MAX\_QUANTITY** | Указывается количество товара доступных для продажи. Доступны значения:  * **Не показывать** [N] - остаток не будет отображаться; * **С отображением реального остатка**       |  |  |  |   | --- | --- | --- |   | Текст для остатка | **MESS\_SHOW\_MAX\_QUANTITY** | Возможность замены стандартного уведомления об остатке на свой текст. |    [Y] остаток будет выведен в виде числа; * **С подменой остатка текстом**       |  |  |  |   | --- | --- | --- |   | Текст для остатка | **MESS\_SHOW\_MAX\_QUANTITY** | Возможность замены стандартного уведомления об остатке на свой текст. |   | Значение, от которого происходит подмена | **RELATIVE\_QUANTITY\_FACTOR** | Количество товара с которого происходит замена текста о количестве. Сравнение происходит со значением, рассчитанным по формуле "Доступное количество"/"Коэффициент единицы измерения" |   | Текст для значения больше | **MESS\_RELATIVE\_QUANTITY\_MANY** | Текст выводится, если количество товара больше чем в поле **Значение, от которого происходит подмена**. |   | Текст для значения меньше | **MESS\_RELATIVE\_QUANTITY\_FEW** | Текст выводится, если количество товара меньше чем в поле **Значение, от которого происходит подмена**. |    [M] - остаток будет выведен текстом  В зависимости от выбранного значения появляются или скрываются дополнительные поля. |
| Показывать кнопку продолжения покупок во всплывающих окнах | **SHOW\_CLOSE\_POPUP** | Если опция отмечена, во всплывающих окнах будет показана кнопка "Продолжить покупки". |
| Текст кнопки "Купить" | **MESS\_BTN\_BUY** | Задается текст, который должен быть отображен на кнопке "Купить". |
| Текст кнопки "Добавить в корзину" | **MESS\_BTN\_ADD\_TO\_BASKET** | Задается текст, который должен быть отображен на кнопке "Купить". |
| Текст кнопки "Подробнее" | **MESS\_BTN\_DETAIL** | Задается текст, который должен быть отображен на кнопке "Подробнее". |
| Текст кнопки "Уведомить о поступлении" | **MESS\_BTN\_SUBSCRIBE** | Задается текст, который должен быть отображен на кнопке "Уведомить о поступлении". |
| Сообщение об отсутствии товара | **MESS\_NOT\_AVAILABLE** | Текст, который будет выведен при отсутствии товара. |
| **Шаблоны ссылок** | | |
| URL, ведущий на страницу с содержимым элемента раздела | **DETAIL\_URL** | Указывается путь к странице с детальным описанием элемента раздела. |
| **Настройки кеширования** | | |
| Тип кеширования | **CACHE\_TYPE** | Тип кеширования:  * **A** - Авто + Управляемое: автоматически обновляет кеш компонентов в течение заданного времени или при изменении данных; * **Y** - Кешировать: для кеширования необходимо определить время кеширования; * **N** - Не кешировать: кеширования нет в любом случае. |
| Время кеширования (сек.) | **CACHE\_TIME** | Время кеширования, указанное в секундах. |
| Учитывать права доступа | **CACHE\_GROUPS** | [Y|N] При отмеченной опции будут учитываться права доступа при кешировании. |
| **Композитный сайт** | | |
| Голосование шаблона компонента по умолчанию | **COMPOSITE\_FRAME\_MODE** | Значения: Авто (актокомпозит), За, Против |
| Содержимое компонента | **COMPOSITE\_FRAME\_TYPE** | Что должен выводить компонент при включённом композитном режиме. [Подробнее](/learning/course/index.php?bitrix_include_areas=Y&COURSE_ID=39&LESSON_ID=3258#compozite) |
| **Настройки действий** | | |
| Название переменной, в которой передается действие: | **ACTION\_VARIABLE** | Указывается имя переменной, в которой передается действие: ADD\_TO\_COMPARE\_LIST, ADD2BASKET и т.д. Значение поля по умолчанию action. |
| Название переменной, в которой передается код товара для покупки | **PRODUCT\_ID\_VARIABLE** | Имя переменной, в которой будет передаваться ID товара. |
| **Цены** | | |
| Тип цены | **PRICE\_CODE** | Указывается тип цены для выводимых элементов. Если не задан ни один из типов, то цена товара, кнопки **В корзину** и **Купить** показаны не будут. |
| Использовать вывод цен с диапазонами | **SHOW\_OLD\_PRICE** | При установленной опции для каждого товара выбираются все диапазоны цен, существующие у товара. |
| Выводить цены для количества | **SHOW\_PRICE\_COUNT** | Параметр определяет количество единиц товара, для которых выводить стоимость. Если снята опция "Использовать вывод цен с диапазонами", т.е. для каждого товара выводится только одна цена, но в каталоге есть товары с расширенным управлением ценами (зависимость цены от количества), необходимо указать - для какого количества товара искать цену. На товары, чья цена не зависит от количества, эта опция не влияет. |
| Включать НДС в цену | **PRICE\_VAT\_INCLUDE** | [Y|N] При отмеченной опции цены будут показаны с учетом НДС. |
| Показывать цены в одной валюте | **CONVERT\_CURRENCY** | При установке флажка цены будут выводиться в одной валюте, даже если в каталоге они будут заданы в разных валютах. При выборе данной опции станет активным дополнительное поле.     |  |  |  | | --- | --- | --- | | Валюта, в которую будут сконвертированы цены | **CURRENCY\_ID** | Выбор валюты, в которой будут отображаться цены. | |
| **Добавление в корзину** | | |
| URL, ведущий на страницу с корзиной покупателя | **BASKET\_URL** | Указывается путь к странице с корзиной покупателя. |
| Разрешить указание количества товара | **USE\_PRODUCT\_QUANTITY** | [Y|N] При отмеченной опции будет разрешено указывать количества товара; нужно заполнить дополнительное поле     |  |  |  | | --- | --- | --- | | Название переменной, в которой передается количество товара | **PRODUCT\_QUANTITY\_VARIABLE** | Задается имя переменной, в которой будет передаваться количество товара. |  . |
| Добавлять в корзину свойства товаров и предложений | **ADD\_PROPERTIES\_TO\_BASKET** | [Y|N] При отмеченной опции свойства товаров и предложений будут передаваться в корзину и заказ. Свойства должны быть перечислены, если они влияют на выбор товара или включена возможность управлять свойствами в корзине (для торговых предложений), либо несут дополнительную информацию о товаре, которая необходима в заказе (например: клиент может сменить цвет в корзине, или цвет это другое торговое предложение и данное свойство показывает на этот выбор).  Кроме того, становятся доступными для настройки параметры     |  |  |  | | --- | --- | --- | | Название переменной, в которой передаются характеристики товара | **PRODUCT\_PROPS\_VARIABLE** | Задается имя переменной, в которой будет передаваться характеристики товара. | | Разрешить добавлять в корзину товары, у которых заполнены не все характеристики | **PARTIAL\_PRODUCT\_PROPERTIES** | [Y|N] При отмеченной опции в корзину будут добавляться и те товары, у которых заполнены не все характеристики. Если же опция не отмечена, то товар будет добавлен в корзину только при условии, что все характеристики, добавляемые в корзину, заполнены. На торговые предложения этот параметр не влияет. | | Характеристики товара | **PRODUCT\_PROPERTIES** | Выводимые харакетристики товара. |  **Название переменной, в которой передаются характеристики товара** и **Разрешить добавлять в корзину товары, у которых заполнены не все характеристики**. |
| Показывать кнопку добавления в корзину или покупки | **BLOCK\_TITLE** | Выбор какую кнопку выводить. |
| **Сравнение товаров** | | |
| Разрешить сравнение товаров | **DISPLAY\_COMPARE** | [Y|N] Включение функционала сравнения. После включения появляются дополнительные три поля.     |  |  |  | | --- | --- | --- | | Путь к странице сравнения | **COMPARE\_PATH** | Путь к странице с компонентом сравнения товаров. Если значение параметра пустое, будет использована текущая страница | | Текст кнопки "Сравнить" | **MESS\_BTN\_COMPARE** | Замена текста по умолчанию для кнопки сравнения. | | Уникальное имя для списка сравнения | **COMPARE\_NAME** | Задается код для списка сравнения. | |
| **Настройки аналитики** | | |
| Отправлять данные электронной торговли в Google и Яндекс | **USE\_ENHANCED\_ECOMMERCE** | [Y|N] Включение опции. После включения станут доступны ещё два поля.     |  |  |  | | --- | --- | --- | | Имя контейнера данных | **DATA\_LAYER\_NAME** | Указываются свойства инфоблока, которые будут отображены в списке просмотренных товаров. При выборе пункта *(не выбрано)->* и без указания кодов свойств в строках ниже, свойства выведены не будут. | | Свойство брендов | **BRAND\_PROPERTY** | Из списка выбираются свойства, которые можно добавить в корзину. Для выбора нескольких свойств нужно использовать клавишу Ctrl. |  Требуется дополнительная настройка в Google Analytics Enhanced Ecommerce и/или Яндекс.Метрике. |

### Пример вызова

```
<?$APPLICATION->IncludeComponent(
	"bitrix:sale.products.gift",
	"",
	Array(
		"ACTION_VARIABLE" => "action",
		"ADD_PROPERTIES_TO_BASKET" => "Y",
		"ADD_TO_BASKET_ACTION" => "ADD",
		"BASKET_URL" => "/personal/basket.php",
		"CACHE_GROUPS" => "Y",
		"CACHE_TIME" => "36000000",
		"CACHE_TYPE" => "A",
		"COMPOSITE_FRAME_MODE" => "A",
		"COMPOSITE_FRAME_TYPE" => "AUTO",
		"CONVERT_CURRENCY" => "N",
		"DEPTH" => "2",
		"DETAIL_URL" => "",
		"DISPLAY_COMPARE" => "N",
		"ELEMENT_SORT_FIELD" => "sort",
		"ELEMENT_SORT_FIELD2" => "id",
		"ELEMENT_SORT_ORDER" => "asc",
		"ELEMENT_SORT_ORDER2" => "desc",
		"HIDE_NOT_AVAILABLE" => "N",
		"HIDE_NOT_AVAILABLE_OFFERS" => "N",
		"IBLOCK_ID" => "",
		"IBLOCK_TYPE" => "news",
		"MESS_BTN_ADD_TO_BASKET" => "В корзину",
		"MESS_BTN_BUY" => "Купить",
		"MESS_BTN_DETAIL" => "Подробнее",
		"MESS_BTN_SUBSCRIBE" => "Подписаться",
		"MESS_NOT_AVAILABLE" => "Нет в наличии",
		"PAGE_ELEMENT_COUNT" => "4",
		"PARTIAL_PRODUCT_PROPERTIES" => "N",
		"PRICE_CODE" => array(),
		"PRICE_VAT_INCLUDE" => "Y",
		"PRODUCT_ID_VARIABLE" => "id",
		"PRODUCT_PROPERTIES" => array(),
		"PRODUCT_PROPS_VARIABLE" => "prop",
		"PRODUCT_QUANTITY_VARIABLE" => "quantity",
		"PRODUCT_SUBSCRIPTION" => "Y",
		"PROPERTY_CODE" => array("",""),
		"SECTION_CODE" => "",
		"SECTION_ELEMENT_CODE" => "",
		"SECTION_ELEMENT_ID" => $GLOBALS["CATALOG_CURRENT_ELEMENT_ID"],
		"SECTION_ID" => $GLOBALS["CATALOG_CURRENT_SECTION_ID"],
		"SHOW_CLOSE_POPUP" => "N",
		"SHOW_DISCOUNT_PERCENT" => "N",
		"SHOW_FROM_SECTION" => "N",
		"SHOW_MAX_QUANTITY" => "N",
		"SHOW_OLD_PRICE" => "N",
		"SHOW_PRICE_COUNT" => "1",
		"TEMPLATE_THEME" => "blue",
		"USE_ENHANCED_ECOMMERCE" => "N",
		"USE_PRICE_COUNT" => "N",
		"USE_PRODUCT_QUANTITY" => "N"
	)
);?>
```

Новинки документации в соцсетях:

#### Пользовательские комментарииПомните, что Пользовательские комментарии, несмотря на модерацию, не являются официальной документацией. Ответственность за их использование несет сам пользователь. Также Пользовательские комментарии не являются местом для обсуждения функционала. По подобным вопросам обращайтесь на [форумы](http://dev.1c-bitrix.ru/community/forums/group1/).

© «Битрикс», 2001-2025, «1С-Битрикс», 2025

Наверх