| Поле | Описание |
| --- |

|
| Системные настройки | |
| Язык по умолчанию для административной части |

|
| Название сайта | Название, используемое для всех сайтов по умолчанию. |
| URL сайта (без http://) |

|
| Режим вывода ошибок (error\_reporting) | Определяет, какие сообщения об ошибках в работе системы будут выводиться на экран (обычно используется для отладки).  * **Только ошибки** - выводить сообщения только об ошибках; * **Ошибки и предупреждения**- выводить сообщения об ошибках, а также предупреждения о возможности возникновения ошибки; * **Не выводить**- не показывать сообщения об ошибках. |
| Использовать горячие клавиши |

|
| Галерея смайлов для парсера | Выбор набора смайлов, который будет использован парсером системы. Выбирается из загруженных наборов на странице Наборы смайлов. |
| Куки |

|
| Префикс для названия кук (без точек и пробелов) | Строка, добавляемая к имени cookie. |
| Распространять куки на все домены (только для https) |

|
| Устанавливать для кук авторизации атрибут secure (только для https) | Определяет, будет ли использоваться шифрация при сохранении идентификационной информация в файлах cookies. |
| Распространять авторизацию на все домены (только для https) |

|
| Файлы | |
| Ограничение дискового пространства (Мб) |

|
| Папка по умолчанию для загрузки файлов | Папка, в которую будут попадать файлы (например, картинки) при загрузке на сайт. Путь к папке указывается относительно корня сайта. |
| Сохранять исходные имена загружаемых файлов |

|
| Производить транслитерацию имени файла | Если же опция включена, то при загрузке файла произойдёт автоматическая транслитерация имени файла, если исходный файл имеет название на кириллице. Функция работает, если включена опция **Сохранять исходные имена загружаемых файлов** |
| Автоматически заменять невалидные символы в именах загружаемых файлов |

|
| Контролировать загрузку дубликатов файлов | Включение контроля загрузки дубликатов. По умолчанию выключено, в новых дистрибутивах включено. |
| Максимальный размер файла для контроля дубликатов (Мб) |

|
| Качество JPG при масштабировании изображений (в процентах) | Задается уровень сжатия в процентах для \*.JPG файлов при масштабировании. |
| Быстрая отдача файлов через Nginx |

|
| Изображения в профиле пользователя | |
| Максимальная ширина в пикселях |

|
| Максимальная высота в пикселях | Указание максимально возможной высоты изображения. |
| Максимальный размер файла в байтах |

|
| Эти поля - не ресайз изображения, а проверка на заданные ограничения на загружаемый файл. В случае превышения ограничений файл не будет загружен, выведется соответсвующее уведомление. | |
| Оптимизация CSS |

|
| Объединять CSS файлы | Все файлы стилей будут сведены в один файл для выдачи клиенту. |
| Объединять JS файлы |

|
| Подключать минифицированные версии CSS и JS файлов | Минифицированная версия файлов имеет суффикс **.min** в названии: **style.min.css** и **script.min.js**. Это касается любых файлов, подключаемых через [SetAdditionalCSS](http://dev.1c-bitrix.ru/api_help/main/reference/cmain/setadditionalcss.php) и [AddHeadScript](http://dev.1c-bitrix.ru/api_help/main/reference/cmain/addheadscript.php). Если время изменения исходного файла больше минифицированного, то подключится исходный. |
| Переместить весь Javascript в конец страницы |

|
| Создавать сжатую копию объединенных CSS и JS файлов | Система создаст сжатый файл **.gz** и отдаст его клиенту. При установке флажка создается сжатый файл, для того чтобы nginx не сжимал файл js и css "на лету", а брал уже готовый файл. |
| Внешние сервисы перевода |

|
| Ключ сервиса Яндекс.Перевод | Для автоматической генерации символьных кодов используется **Яндекс.Перевод**. Требуется зарегистрироваться на сайте [API Яндекса](https://yandex.ru/dev/translate/), получить ключ и указать его в настройках модуля. Используемая версия API Яндекс.Перевода - 1.5.   Если ключ не указан, осуществляется транслитерация. |
| Часовые пояса |

|
| Локальное время сервера | Информация о текущем времени сервера, на котором установлен сайт. Показывает, в каком поясе фактически работает сервер. Для корректной работы системы часовых поясов должна быть правильная комбинация времени и смещения от UTC (18:26:10 +0300). Из продукта время и пояс не настраиваются, они просто должны быть правильными. Если что-то не так, нужно настраивать ОС и/или PHP и БД. Доступно для PHP 5.2.0 и выше |
| Разрешить использование часовых поясов |

| Поле | Описание | | --- | --- | | Часовой пояс сервера по умолчанию | Выбор часового пояса, который должен использоваться на сайте вместо **Локального времени сервера**. Поле указывает, в какой/из какого часового пояса будут конвертированы даты по умолчанию. Например, сайт стоит на разделяемом хостинге в США, фактически работает по чикагскому времени. Управлять системным временем на хостинге возможности нет. На сайте - форумы с преимущественно калининградскими посетителями. Необходимо выбрать зону **Europe/Kaliningrad** - и сообщения форума показываются по калининградскому времени для всех, даже для анонимов. Эта настройка может быть переопределена конкретным пользователем под себя. | | По умолчанию автоматически определять часовой пояс по браузеру | Установить эту опцию, если не используются другие способы определения времени клиента. В этом случае время определяется по времени браузера клиента. Опция особенно полезна в корпоративном портале, где часовые пояса имеют большое значение. |  .| Геолокация | | | Собирать названия местоположений Geonames в локальную БД | Система будет вести свою локальную базу местоположений. Данные из этой базы используются:  * на странице [История входов](/user_help/settings/users/user_devices_history.php), * если выставлена настройка **Оповещать пользователей о входе с нового устройства** (закладка "Журнал событий"), то в шаблоне письма будет доступен макрос `#LOCATION#`, куда будет подставляться сохраненное местоположение. | | Карта сайта | | | --- | --- || Тип меню для нулевого уровня карты сайта | Название типа меню, пункты которого будут использоваться в качестве вершин карты сайта. Можно указать несколько типов меню через запятую, если предполагается использовать больше 2-х уровней вложенности. | | Тип меню для остальных уровней карты сайта | Название типа меню, пункты которого будут использоваться в качестве ветвей карты сайта. Можно указать несколько типов меню через запятую, если предполагается использовать больше 2-х уровней вложенности. | | Богатые ссылки | | | Включить богатые ссылки | При установке флажка ссылки в публичной части будут отображаться с выводом части информации с указанной страницы. (В *Битрикс24* в коробке опция включена по умолчанию.) | | Сохранять изображения локально | При включённой опции первом просмотре богатой ссылки загружается картинка и потом она достаётся из кеша. То есть повторные просмотры - производятся быстрее. Кроме того, некоторые сайты не любят, когда их контент напрямую вставляют в чужие страницы, и отдают access denied вместо изображения. | | Редактор изображений | | | Разрешить редактирование изображений с внешних сайтов | Параметр определяет можно ли открывать в редакторе изображения которые находятся на внешних ресурсах.   Изначально картинка редактируется на удаленном сервере, просто проксируется поток. Но это все потенциально небезопасно (см. политику [CORS](https://ru.wikipedia.org/wiki/Cross-origin_resource_sharing)). Поэтому пользователь может указать список доверенных ресурсов, с которых можно редактировать. По умолчанию редактировать можно только картинки с текущего хоста. | | Список разрешенных сайтов | С помощью ссылки **Добавить сайт** указываются сайты (как правило это - CDN) с которых разрешено редактировать изображения. | | Панель инструментов публичного раздела | | | Всегда показывать панель для пользователей | С помощью ссылки **Добавить пользователей** можно указать для каких групп пользователей, пользователей или структурных подразделений необходимо всегда отображать панель управления (независимо от имеющихся прав доступа). | | Никогда не показывать панель для пользователей: | С помощью ссылки **Добавить пользователей** можно указать для каких групп пользователей, пользователей или структурных подразделений не нужно отображать панель управления (независимо от имеющихся прав доступа). | |

### Почта и СМС

| Поле | Описание |
| --- |

|
| Почта | |
| E-Mail адрес или список адресов через запятую, на который будут дублироваться все исходящие сообщения |

|
| Отправлять в письме идентификаторы почтового события и шаблона | При отмеченной опции в каждом письме будут присутствовать данные, уникально идентифицирующие это письмо. |
| Дублировать E-Mail адрес в заголовок |

|
| E-Mail администратора сайта (отправитель по умолчанию) | По умолчанию в качестве e-mail адреса отправителя письма с сайта будет подставляться этот адрес. С версии **20.700.0** Главного модуля (**main**) возможно использовать email с IDN    **IDN** (англ. *Internationalized Domain Names* — интернационализованные доменные имена) — это доменные имена, которые содержат символы национальных алфавитов, например, мойсайт.рф.   [Подробнее](https://ru.wikipedia.org/wiki/IDN)... , включая кириллические домены. |
| Конвертировать символы новой строки Unix формата в Windows формат при отправке email |

|
| Конвертировать 8-битные символы в заголовке письма | Если символы с кодом выше 127 (т.е. 8-битные) в заголовках отправляемых с сайта писем отображаются некорректно, то включите эту опцию. В этом случае все подобные символы в заголовке будут переданы в кодировке Base64. |
| Отправлять картинки в виде вложений в письмо |

|
| Генерировать текстовую версию для html-писем | По умолчанию включено. При включённой опции автоматически создаётся [текстовая версия](https://dev.1c-bitrix.ru/learning/course/index.php?COURSE_ID=41&LESSON_ID=8619) отправляемых писем. |
| Максимальный размер файлов вложения в байтах |

|
| Сколько дней хранить почтовые события | Количество дней, в течение которого будут сохраняться [почтовые события](http://dev.1c-bitrix.ru/user_help/settings/settings/mail_events/index.php). |
| Сколько писем отправлять за один хит |

|
| Дополнительный параметр для передачи функции mail | Указывается дополнительный параметр для передачи функции **mail**. |
| Протокол в ссылках письма (в относительные ссылки дописывается протокол и домен сайта, например, https) |

|
| Отслеживать статус прочтения исходящих писем | Каждая из опций отключает выбранное отслеживание. Отключение глобальное, то есть трекинг не будет работать даже если включено отслеживание в каком-либо другом модуле. Реализовано с целью соблюдения законодательства разных стран. |
| Отслеживать переходы по ссылкам в исходящих письмах |
| Отправка СМС |

|
| Секция появляется при установленном и настроенном модуле [Служба сообщений](/user_help/settings/message_service/settings.php) (messageservice) | |
| Служба отправки СМС по умолчанию: |

|
| Номер отправителя по умолчанию: | После выбора службы по умолчанию в этом поле автоматически появится список номеров из личного кабинета выбранной службы. Укажите один из них как номер отправителя. |
| Форматирование телефонных номеров |

|
| Страна по умолчанию | Выбор страны по правилам которой телефонный номер будет преобразован из местного формата в международный. |

### Авторизация

| Поле | Описание |
| --- |

|
| Настройки локальной системы авторизации | |
| Разрешить запоминание авторизации |

|
| Разрешить авторизацию через внешние сервисы | При отмеченной опции для авторизации можно будет использовать внешние сервисы типа LiveID. |
| Разрешить аутентификацию по QR-коду |

|
| Разрешить авторизацию HTTP Digest | В Windows 7/Office 2010 отказались от поддержки авторизации HTTP Basic без SSL, т.к. пароль передается в открытом виде. При этом поддерживается авторизация HTTP Digest, при которой пароль не передается в открытом виде, т.е. SSL не обязателен. С версии 10 такой тип авторизации поддерживается в библиотеке документов. Может применяться только для встроенной авторизации. |
| Страница регистрации (для системного компонента авторизации) |

|
| Шаблон системных компонентов авторизации (system.auth.\*) | Настройка заменяет стандартный шаблон авторизации на ваш. Шаблон применяется ко всем компонентам авторизации: вход, регистрация, восстановление пароля. Как настроить:   1. Создайте папку `/local/templates/.default/components/bitrix/system.auth.authorize/` 2. Скопируйте в нее все шаблоны из `system.auth.*`: `authorize`, `register`, `forgotpassword`. Если скопировать только `authorize`, регистрация и восстановление пароля перестанут работать.   Если шаблон не применился:  Проверьте, не переопределена ли опция `auth_components_template` для сайта. Такое может произойти, если вы использовали шаблон **eshop**. Найдите запись в таблице `b_option_site` и измените значение с `flat` на `.default`. |
| Использовать CAPTCHA при восстановлении пароля |

|
| Безопасная авторизация | |
| Передавать пароль в зашифрованном виде |

|
| Ключ шифрования | Указывает на то, сгенерирован ли открытый ключ для использования функции. Если ключ не используется, то создать его можно по кнопке **Сгенерировать ключ**. |
| Регистрация новых пользователей |

|
| Позволять ли пользователям регистрироваться самостоятельно? | Определяет, могут ли посетители самостоятельно регистрироваться на сайте. При использовании этой опции необходимо удалять файл `/bitrix/wizards/bitrix/demo/public_files/ru/auth/index.php`. Если этого не сделать, то по этому пути стороннему пользователю будет доступна форма авторизации. Возможно несанкционированное добавление пользователя. |
| Использовать CAPTCHA при регистрации |

|
| При регистрации добавлять в группу | Группа, в которую пользователь будет автоматически попадать при регистрации. |
| Регистрировать пользователей по номеру телефона: |

|
| Номер телефона является обязательным: | Поле становится активным после включения опции, разрешающей регистрацию по телефону. Если опция не включена, поле "Номер телефона" при регистрации будет необязательным. |
| Регистрировать пользователей по email: |

|
| E-mail является обязательным полем | Если флажок снят,    В этом случае поле **Запрашивать подтверждение регистрации по E-mail** будет неактивно то поле e-mail будет не обязательным при регистрации. |
| Запрашивать подтверждение регистрации по E-mail |

|
| Проверять E-mail на уникальность при регистрации | Если опция отмечена, то при регистрации пользователя будет выполняться проверка адреса электронной почты на совпадение с уже имеющимися адресами в системе. Также уникальность E-mail будет проверяется и при обновлении пользователя. Уникальность Email проверяется только для внутренней регистрации. Внешние источники авторизации могут вовсе не отдавать e-mail, например odnoklassniki, twitter, vkontakte. |
| Сколько дней хранить пользователей с неподтвержденной регистрацией |

|
| Настройка соглашений. | Переход к созданию нового соглашения о согласии пользователя по ссылке [Создать новое соглашение](/user_help/settings/settings/agreement_edit.php). Далее следуют поля для выбора сайта и соглашения для него. Выбранное соглашение используется при регистрации пользователя. |
| Безопасность |

|
| Деактивировать давно не заходивших пользователей | Указывается число дней. Если в указанное значение пользователь не авторизовался на сайте, его аккаунт автоматически становится неактивным. |
| Защитить выход пользователя из системы от CSRF |

|
| Контроль сессии | |
| Продлевать сессию при активности посетителя в окне браузера |

|
| Продлевать сессию только для авторизованных посетителей | Пункт позволяет продлевать сессию при активности посетителя в окне браузера только для авторизованных пользователей. |
| Показывать пользователям сообщение об окончании сессии |

|

### Журнал событий

На данной вкладке выполняется настройка параметров журнала событий.

| Поле | Описание |
| --- |

|
| Сколько дней хранить события | Указывается период времени (количество дней), в течении которого события будут храниться в журнале. |
| События для записи в журнал |

|
| Записывать **[тип события]** | Отметьте флажками события, которые должны фиксироваться в журнале. |
| Профиль пользователя |

|
| Сохранять историю изменения полей профиля пользователя | Включает логирование изменений профилей пользователей. Просмотр изменений осуществляется на [странице](/user_help/settings/users/profile_history.php) *Настройки > Пользователи > История профилей*. |
| Сколько дней хранить историю |

|
| История входов и устройств | |
| Сохранять историю входов с устройств пользователя |

|
| Сколько дней хранить историю входов | Установка числа дней для хранения. |
| Собирать IP-геоданные для истории входов |

|
| Оповещать пользователей о входе с нового устройства | На вход с нового для пользователя устройства кидается почтовое событие NEW\_DEVICE\_LOGIN, что позволяет уведомить пользователя о входе. |
| Классы для браузера и детектора лежат в неймспейсе `Bitrix\Main\Web\UserAgent`. Логика работы с устройствами описана в классе `Bitrix\Main\Authentication\Device`. В классе `Bitrix\Main\Authentication\Internal` лежат таблеты. |

|
| Настройки системы авторизации на контроллере\* | |
| Префикс для авторизации на контроллере |

|
| Авторизовывать на этом сайте пользователей других сайтов контроллера | При отмеченной опции пользователи других сайтов контроллера смогут авторизовываться на этом сайте, причем обязательно должна быть [разрешена авторизация между подчиненными сайтами](/user_help/service/controller/controller_auth.php) на контроллере и настроено соответствие групп. |

\* - данная секция доступна, если сайт подключен к [контроллеру](/user_help/service/controller/index.php).

### Система обновлений

| Поле | Описание |
| --- |

|
| Лицензионный ключ | Лицензионный ключ данной копии продукта. |
| Установка для разработки |

|
| Имя сервера, содержащего обновления | Имя сервера, с которого выполняется обновление продукта (должно быть равно www.bitrixsoft.com). |
| Адрес прокси для системы обновлений |

|
| Порт прокси для системы обновлений | Адрес порта, по которому выполняется доступ к системе обновлений через прокси-сервер. |
| Имя пользователя прокси |

|
| Пароль прокси | Пароль для доступа к прокси-серверу. |
| Усиленная проверка корректности установки обновлений |

|
| Включить безопасный режим | При включённой опции передается минимальный объем данных. Рекомендуется к использованию при небыстрых хостингах или при больших обновлениях. |
| Загружать только стабильные обновления |

``` $detector = $serviceLocator->get('main.browserDetector'); ```