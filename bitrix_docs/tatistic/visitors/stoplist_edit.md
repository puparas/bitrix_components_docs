# Создание и редактирование записи стоп-листа

Документация для разработчиков

[Документация для разработчиков](https://dev.1c-bitrix.ru/api_help/)
[Документация по D7](https://dev.1c-bitrix.ru/api_d7/)
[Документация по REST](https://dev.1c-bitrix.ru/rest_help/)
[Пользовательская документация](https://dev.1c-bitrix.ru/user_help/)

Темная тема

[Основные сведения](/user_help/index.php)
[Реализация и системные требования](/user_help/reqintro.php)

[Справочная система и документация](/user_help/help/index.php)

[Контент](/user_help/content/index.php)

[Сайты 24](/user_help/sites24/index.php)

[Маркетинг](/user_help/marketing/index.php)

[Магазин](/user_help/store/index.php)

[Клиенты](/user_help/clients/index.php)

[Сервисы](/user_help/service/index.php)

[Веб-аналитика](/user_help/statistic/index.php)

[Веб-аналитика. Настройки модуля](/user_help/statistic/settings_va.php)
[Сводная статистика](/user_help/statistic/stat_list.php)
[Кто на сайте](/user_help/statistic/users_online.php)

[Посещаемость](/user_help/statistic/site_traffic/index.php)

[Рекламные кампании](/user_help/statistic/advertising_campaigns/index.php)

[События](/user_help/statistic/events/index.php)

[Поисковики](/user_help/statistic/search_engines/index.php)

[Ссылающиеся сайты](/user_help/statistic/referer_sites/index.php)

[Посетители](/user_help/statistic/visitors/index.php)

[Список посетителей](/user_help/statistic/visitors/guest_list.php)
[Сессии посетителей](/user_help/statistic/visitors/session_list.php)
[Хиты](/user_help/statistic/visitors/hit_list.php)
[Стоп-лист](/user_help/statistic/visitors/stoplist_list.php)
[Создание и редактирование записи стоп-листа](/user_help/statistic/visitors/stoplist_edit.php)

[Marketplace](/user_help/marketplace/index.php)

[Настройки](/user_help/settings/index.php)

[Компоненты](/user_help/components/index.php)

[Описание компонентов решений](/user_help/description_decisions/index.php)

[Дополнительно](/user_help/additional/index.php)

[Веб-аналитика](/user_help/statistic/index.php)

[Посетители](/user_help/statistic/visitors/index.php)

Создание и редактирование записи стоп-листа

**Недоступно в редакциях:**Малый бизнес, Стандарт, Старт

# Создание и редактирование записи стоп-листа

Форма **Cоздание и редактирование записи стоп-листа** предназначена для создания и редактирования параметров записей стоп-листа.

  

### Контекстная панель

| Кнопка | Описание |
| --- | --- |
| Стоп-лист | Переход на страницу со [списком записей](/user_help/statistic/visitors/stoplist_list.php) стоп-листа. |
| Создать | Нажатие этой кнопки создает новую запись стоп-листа.   Отображается только при редактировании существующей записи стоп-листа. |
| Удалить | Удаляет открытую запись стоп-листа.   Отображается только при редактировании существующей записи стоп-листа. |

### Закладка Параметры

| Поле | Описание | |
| --- | --- | --- |
| Дата изменения | Дата изменения записи стоп-листа.   Это поле не отображается при создании новой записи. | |
| Активность записи | | |
| Флаг активности | Флаг, позволяющий сделать запись активной или неактивной. | |
| Дата начала (DD.MM.YYYY HH:MI:SS) | Дата начала действия записи стоп-листа. | |
| Дата окончания (DD.MM.YYYY HH:MI:SS) | Дата окончания действия записи стоп-листа. | |
| По каким признакам фильтровать посетителей | | |
| Сайт | Сайт, для которого действует запись. | Актуальная фильтрация имеет место только при совпадении **всех** признаков с образцом (конъюнкция). |
| Маска сети | Маска сети посетителя (см. примечания ниже). |
| IP адрес | IP-адрес посетителя для сравнения. |
 UserAgent | UserAgent посетителя.   Поле **пуст** служит для выделения посетителей без информации о UserAgent'е. || Откуда пришел | Страница, с которой приходят посетители. |
| Куда пришел | Страница, на которую приходят посетители. |

### Закладка Действия

| Поле | Описание |
| --- | --- |
| Перенаправить по адресу (URL) | URL, по которому посетитель будет перенаправлен в случае его нахождения в стоп-листе. |
| Показать сообщение | Сообщение, которое будет показано посетителю, попавшему в стоп-лист. |
| В кодировке языка | Кодировка для показа сообщения. |
| Сохранить статистику | Если флаг установлен, факты попадания посетителя в стоп-лист регистрируются в базе данных статистики. |

### Закладка Комментарий

Произвольный комментарий, поясняющий причины создания данной записи стоп-листа.

После внесения изменений не забудьте нажать на кнопку **Сохранить**.

### Замечания о масках подсетей

В терминологии сетей TCP/IP **маской подсети** или **маской
сети** называется битовая маска, определяющая, какая часть IP-адреса
узла сети относится к адресу сети, а какая — к адресу самого
узла в этой сети. Например, узел с IP-адресом 12.34.56.78 и маской
подсети 255.255.0.0 находится в сети 12.34.0.0.

Чтобы получить адрес сети, зная IP-адрес и маску подсети,
необходимо применить к ним операцию поразрядной конъюнкции.
Например, в случае более сложной маски:

```
IP-адрес:       00001100 00100010 00111000 1001110 (12.34.56.78)
Маска подсети:  11111111 11111111 11100000 0000000 (255.255.224.0)
--------------------------------------------------------------------
Адрес сети:     00001100 00100010 00100000 0000000 (12.34.32.0)
```

Запись стоп-листа содержит два поля: **IP адрес сети** и **маска
сети**. Посетитель считается попадающим под ту или иную запись
стоп-листа в случае, если при наложении **маски сети** на его
IP-адрес мы получим **IP адрес сети**.

**Пример 1**. Стоит задача ограничить доступ всех посетителей,
приходящих с IP = 206.191.49.66

1. В этом случае нам необходимо задать:
   * **IP адрес сети** = 206.191.49.66* **маска сети** = 255.255.255.255- В момент захода на сайт посетителя с IP = 206.191.49.66 будет
     произведена следующая операция конъюнкции:

     ```
     IP-адрес посетителя: 11010001 10111111 11000001 1000010 (206.191.49.66)
     маска сети:          11111111 11111111 11111111 1111111 (255.255.225.255)
     ----------------------------------------------------------------------------
     Результат:           11010001 10111111 11000001 1000010 (206.191.49.66)
     ```

     Если результат совпадает с **IP адресом сети**, то
     посетитель попадает под данную запись стоп-листа, что в
     данном случае и происходит. Таким образом, все посетители,
     заходящие на сайт с IP = 206.191.49.66, попадут под данную запись
     стоп-листа.

**Пример 2**. Стоит задача ограничить доступ всех посетителей,
приходящих с подсети = 206.191.49.xxx (IP в интервале от 206.191.49.1 до
206.191.49.255)

1. В этом случае нам необходимо задать:
   * **IP адрес сети** = 206.191.49.0* **маска сети** = 255.255.255.0- В момент захода на сайт посетителя с IP = 206.191.49.76 будет
     произведена следующая операция конъюнкции:

     ```
     IP-адрес посетителя: 11010001 10111111 11000001 1001100 (206.191.49.76)
     маска сети:          11111111 11111111 11111111 0000000 (255.255.225.0)
     ----------------------------------------------------------------------------
     Результат:           11010001 10111111 11000001 0000000 (206.191.49.0)

     ```

     Если результат совпадает с **IP адресом сети**, то
     посетитель попадает под данную запись стоп-листа. Таким
     образом, все посетители, заходящие на сайт с IP в интервале от
     206.191.49.1 до 206.191.49.255, попадут под данную запись стоп-листа.

Новинки документации в соцсетях:

#### Пользовательские комментарииПомните, что Пользовательские комментарии, несмотря на модерацию, не являются официальной документацией. Ответственность за их использование несет сам пользователь. Также Пользовательские комментарии не являются местом для обсуждения функционала. По подобным вопросам обращайтесь на [форумы](http://dev.1c-bitrix.ru/community/forums/group1/).

© «Битрикс», 2001-2025, «1С-Битрикс», 2025

Наверх